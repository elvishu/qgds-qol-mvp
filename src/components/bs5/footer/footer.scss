.qld-footer {
  //Refine --custom-variables at this .qld-footer scope
  --#{$prefix}body-font-size: 0.875rem;

  //White text on dark background (Default footer)
  --#{$prefix}footer-border-width: 4px;
  --#{$prefix}footer-padding-y: 4rem;

  //Default palette values (white background)
  --#{$prefix}footer-bg: var(--#{$prefix}white);
  --#{$prefix}footer-color: var(--body-color);
  --#{$prefix}link-visited: var(--#{$prefix}link-color);

  --#{$prefix}footer-border-color: var(--#{$prefix}brand-secondary);
  --#{$prefix}footer-column-border-color: rgba(255, 255, 255, 0.2);

  --#{$prefix}brand-accent: var(--#{$prefix}brand-secondary-dark);

  --component-icon-color: #131212;

  //Default palette (white text on blue)
  &.dark,
  &.dark-alt {
    --body-color: var(--#{$prefix}white);
    --#{$prefix}footer-bg: var(--#{$prefix}brand-primary);
    --#{$prefix}footer-color: var(--#{$prefix}white);
    --#{$prefix}footer-border-color: var(--#{$prefix}brand-secondary);
    --#{$prefix}footer-column-border-color: rgba(255, 255, 255, 0.2);
    --#{$prefix}link-color: #fff;
    --#{$prefix}link-color-rgb: 255, 255, 255;
    --#{$prefix}link-hover-color: 255, 255, 255;
    --#{$prefix}link-hover-color-rgb: 255, 255, 255;
    --#{$prefix}link-visited: #fff;

    --#{$prefix}brand-accent: var(--#{$prefix}golden-yellow);
    --component-icon-color: #fff;
  }

  //Dark alternative palette (white text on dark blue)
  &.dark-alt {
    --#{$prefix}footer-bg: var(--#{$prefix}brand-primary-dark);
  }
}

.qld-footer {
  //Padding
  padding-top: var(--#{$prefix}footer-padding-y);
  padding-bottom: var(--#{$prefix}footer-padding-y);

  //Border
  border-top: solid;
  border-top-width: var(--#{$prefix}footer-border-width);
  border-top-color: var(--#{$prefix}footer-border-color);

  //Colors
  background: var(--#{$prefix}footer-bg);
  color: var(--#{$prefix}footer-color);

  //Adjust font size
  font-size: var(--#{$prefix}body-font-size);

  a:visited {
    color: var(--#{$prefix}link-color);
  }
  .border-column {
    height: 100%;
  }
  .footer-site-name {
    font-size: 1.25rem;
    line-height: 1.5;
    font-weight: 600;
    margin-bottom: 2rem;
    display: block;
    color: var(--#{$prefix}footer-color);
  }

  .footer-column {
    position: relative;
    margin-right: 2rem;
    margin-bottom: 1rem;
  }

  @include media-breakpoint-down(lg) {
    .footer-column {
      margin-top: 2rem;
    }
  }

  //Bordered columns in the footer should only show above medium breakpoint
  .border-column {
    position: relative;

    &:before {
      position: absolute;
      content: "";
      width: 2px;
      background: var(--#{$prefix}footer-column-border-color);
      top: 0;
      bottom: 0;
      left: -1rem;
    }
  }

  .footer-heading {
    color: var(--#{$prefix}footer-color);
    font-size: 1.25rem;
    margin-bottom: 1rem;
    line-height: 1.5;
    font-weight: 600;
  }

  .footer-contact-item {
    display: flex;
    align-items: center;
    margin-bottom: 1.25rem;

    .qld-icon {
      --#{$prefix}icon-color: var(--#{$prefix}brand-accent);
      display: block;
      width: 1.5rem;
      margin-right: 0.5rem;
      background-color: var(--#{$prefix}icon-color);
    }
  }

  .footer-crest {
    display: block;
    width: 252px;
    margin-bottom: 1.5rem;
  }

  //Footer Nav classes
  .nav {
    --#{$prefix}nav-link-color: var(--#{$prefix}link-color);
    --#{$prefix}nav-link-hover-color: var(--#{$prefix}hover-color);

    &.footer-link-list {
      a.nav-link {
        font-weight: 400;
        margin-bottom: 0.75rem;
        padding: 0;

        &:first-child {
          margin-top: 0.5rem;
        }

        &:focus-visible {
          box-shadow: 0 0 0 3px var(--#{$prefix}white);
        }

        &:visited {
          color: var(--#{$prefix}link-color);
        }
      }

      &--social .nav-link {
        &:first-child {
          margin-top: -2px;
        }

        display: flex;
        margin-bottom: 1.25rem;

        svg {
          width: 1.25rem;
          margin-right: 0.75rem;
        }

        &:hover {
          --component-icon-color: var(--#{$prefix}brand-accent);
        }
      }
    }
  }

  svg path {
    fill: var(--component-icon-color);
  }

  .btn {
    --#{$prefix}btn-color: var(--#{$prefix}link-color);
    --#{$prefix}btn-border-color: var(--#{$prefix}brand-accent);
    --#{$prefix}btn-hover-border-color: var(--#{$prefix}brand-accent);
    --#{$prefix}btn-hover-color: var(--#{$prefix}white);
    --#{$prefix}btn-hover-bg: transparent;
    --#{$prefix}btn-active-color: #03213f;
    --#{$prefix}btn-active-bg: var(--#{$prefix}light-grey);
    --#{$prefix}btn-active-border-color: var(--#{$prefix}light-grey);
    font-size: var(--#{$prefix}body-font-size);
  }

  .footer-contact {
    .btn {
      min-width: 200px;
      margin-top: 0.5rem;
    }
  }
}

///////////////////////////////////////////
/// Feedback Section
/// START
///

/// START
/// Fix my Figma width issue
/// Make the view full with

.css-qa4clq {
  max-width: 100% !important;
}
.css-k7lbue,
.css-xzp052 {
  padding-inline: 0 !important;

  .innerZoomElementWrapper > div {
    border-width: 0 !important;
  }
}
/// Fix my Figma width issue
/// END

/// Set themes colour
.dark {
  --footer-bg-colour: #09549f;
}
.dark-alt {
  --footer-bg-colour: #05325f;
}
.light,
.alt {
  --footer-bg-colour: #fff;
}
.dark,
.dark-alt {
  --font-colour: #fff;
  --action-colour: #ffe500;
  --border-colour: rgba(255, 255, 255, 0.2);
  --colum-border-colour: var(--border-colour);
  @media (max-width: 991.98px) {
    --colum-border-colour: transparent;
  }
}
/////////////////////////////////////////
// Note html is there for the none theme
// not sure if this would happen
.light,
.alt,
html {
  --action-colour: #6bbe27;
  --border-colour: rgba(0, 0, 0, 0.2);
  --colum-border-colour: var(--border-colour);
  @media (max-width: 991.98px) {
    --colum-border-colour: transparent;
  }
}

footer.qld-footer {
  // Measurements
  --gap: 12px;
  // Colours
  --qld-footer-bg: var(--footer-bg-colour);
  --qld-footer-color: var(--font-colour);
  --qld-footer-column-border-color: var(--colum-border-colour);
  // FORMIO
  --callout-bg-colour: rgb(229, 238, 245);
  --formio-colour: #000;
  --formio-bg-colour: #fff;
  --qld-link-color: var(--font-colour);
  --btn-disabled-colour: #e8e8e8;

  .footer-site-name {
    color: var(--font-colour);
  }
  .btn {
    --qld-brand-accent: var(--action-colour);
  }
  .footer-contact-item .qld-icon {
    --qld-brand-accent: var(--action-colour);
  }
  svg path {
    --component-icon-color: var(--font-colour);
  }
  a {
    --qld-link-color-rgb: var(--font-colour);
  }
  #qg-feedback-toggle {
    --qld-dark-alt-border: var(--qld-soft-grey);
    color: var(--formio-colour);
    .form-check-input {
      &:hover,
      &:focus {
        background-color: var(--formio-bg-colour);
      }
    }
    .form-check-input[type="radio"]:checked {
      background-image: url("data:image/svg+xml,%3csvg viewBox='-2 -2 4 4' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle r='1.8' fill='%23414141'/%3e%3c/svg%3e");
    }
    #qg-footer-feedback {
      background-color: var(--formio-bg-colour);
    }
  }
  .btn:disabled {
    color: var(--formio-colour);
    background-color: var(--btn-disabled-colour);
  }
  .footer-column {
    // margin-block: calc(var(--gap) * 2);
    margin-inline-end: 0;
  }
  @media (max-width: 991.98px) {
    --last-para-margin: 24px;
    --qld-footer-padding-y: 0;
    padding-top: calc(var(--gap) * 2);
    .footer-site-name {
      margin-block-end: calc(var(--gap) * 2);
    }
    .row {
      --qld-gutter-x: calc(var(--gap) * 2);
      > .col-md-12 {
        border-top: 2px solid var(--border-colour);
        padding-inline: 0;
        margin-inline-start: var(--qld-gutter-x);
        width: calc(100vw - calc(var(--qld-gutter-x) * 2));
        .border-column {
          height: auto;
        }
        .footer-column {
          margin-block: calc(var(--gap) * 2);
          margin-inline-end: 0;
        }
      }
      > .col-md-12:first-of-type {
        border-top: none;
      }
      > .title {
        border-bottom: 2px solid var(--border-colour);
        padding-inline: var(--qld-gutter-x);
      }
      > .crest {
        border-top: 2px solid var(--border-colour);
        padding-inline: var(--qld-gutter-x);
        margin-inline: 0;
        width: 100%;
      }
      p:last-child {
        margin-block-end: 0;
      }
    }
    .btn-outline-secondary {
      width: 100%;
    }
    .footer-link-list {
      // display: grid;
      display: block;
      column-count: 3;
      // grid-template-columns: repeat(3, 1fr);
      // grid-template-rows: repeat(3, 1fr);
      // gap: var(--gap);
      a.nav-link,
      a.nav-link:first-child {
        margin: 0 !important;
        margin-block-end: 1rem !important;
      }
    }
  }

  @media (max-width: 767.98px) {
    .row {
      > .col-md-12 {
        margin-inline-start: calc(var(--qld-gutter-x) * 0.5);
        width: calc(100vw - var(--qld-gutter-x));
      }
      > .title,
      > .crest {
        padding-inline: calc(var(--qld-gutter-x) * 0.5);
        margin-inline: 0;
        width: 100%;
      }
      p:last-child {
        margin-block-end: var(--last-para-margin);
      }
    }
    // .footer-column {
    //   // margin-right: 0;
    //   margin-inline-end: 0;
    // }
    .footer-link-list {
      column-count: 2;
      width: 100%;
      // grid-template-columns: repeat(2, 1fr);
      // grid-template-rows: repeat(2, 1fr);
    }
  }
}

#qg-feedback-toggle {
  ////////////////////////////
  // Measurements
  --font-weight: 700;
  --font-size: 1rem;
  --spacing: 1rem;
  --border-radius: 4px;
  --border-width: 3px;
  --border-outline-width: 2px;
  --inner-border-radius: 3px;
  --form-control-border-width: 2px;
  --bootstrap-default-padding: 15px;
  --text-underline-offset: 0.3em;
  --text-decoration-thickness: 1px;
  --text-underline-offset: 5px;

  width: 100%;

  #btn-footer-feedback {
    color: var(--qld-link-color);
    border: var(--border-width) solid var(--qld-brand-accent);
    width: 100%;
    font-weight: normal;
  }
  #btn-footer-feedback:not(.collapsed) {
    border-radius: var(--border-radius);
    font-weight: var(--font-weight);
    border-end-end-radius: 0;
    border-end-start-radius: 0;
    outline: none !important;
    &:hover,
    &:active {
      --qld-selection-bg: var(--background-colour);
      --qld-btn-bg: var(--background-colour);
      --qld-btn-hover-bg: var(--background-colour);
      --qld-btn-hover-border-color: var(--background-colour);
      color: var(--qld-body-color);
    }
    width: 100%;
    text-align: left;
    background-color: var(--formio-bg-colour);
    color: var(--formio-colour);
    border-color: var(--formio-bg-colour);
    border-start-start-radius: var(--border-radius);
    border-start-end-radius: var(--border-radius);
  }
  .btn.qg-feedback-toggle {
    font-weight: bold;
  }
}
#qg-footer-feedback {
  background-color: var(--background-colour);
  border-radius: var(--border-radius);
  border-start-start-radius: 0;
  border-start-end-radius: 0;
  padding-inline: var(--bootstrap-default-padding);
  padding-block-end: var(--bootstrap-default-padding);
  a {
    color: rgba(var(--qld-link-color-rgb));
    text-decoration-color: rgba(var(--qld-link-color-rgb));
    text-decoration-line: underline;
    text-decoration-style: solid;
    text-decoration-thickness: var(--text-decoration-thickness);
    text-underline-offset: var(--text-underline-offset);
    &:hover,
    &:visited {
      text-decoration-thickness: var(--qld-link-underline-thickness-hover);
    }
  }

  #feedbackFormIO {
    .formio-component-fieldSet2 {
      margin-block-end: 0;
    }
    .col-form-label {
      margin-block-end: calc(var(--spacing) * 0.5);
      font-weight: bold;
    }
    .formio-component-submit {
      margin-block-start: var(--spacing);
    }
    .form-check {
      align-items: flex-start;
    }
    .formio-modified .form-check-input,
    .formio-modified .form-control {
      border-color: var(--qld-notify-success);
      outline: var(--border-outline-width) solid var(--qld-notify-success);
    }
    .formio-component-submit .btn,
    .formio-component-submit .btn-primary {
      --qld-btn-active-bg: var(--qld-sapphire-blue);
      --qld-btn-color: var(--qld-white);
      --qld-btn-border-color: transparent;
      --qld-btn-bg: var(--qld-sapphire-blue);
      &:hover {
        border-color: var(--qld-btn-active-bg);
        text-decoration: underline;
        text-decoration-line: underline;
        text-decoration-thickness: var(--qld-link-underline-thickness-hover);
        text-underline-offset: var(--text-underline-offset);
        background-color: var(--qld-btn-active-bg);
      }
    }
    .form-radio {
      .form-check {
        display: flex !important;
        margin-block-end: calc(var(--spacing) * 0.125);

        .form-check-label {
          display: flex;
          align-items: center;
          margin-block-end: calc(var(--spacing) * 0.5);
          margin-inline-start: 0;

          span {
            margin-inline-start: var(--spacing);
          }
        }
      }
    }
    .formio-component-howSatisfiedAreYouWithYourExperienceToday {
      flex-direction: column;
      padding-inline-start: 0;

      label.col-form-label {
        margin-inline-start: 0;
      }
      .form-check {
        display: block;
        margin-block-end: calc(var(--spacing) * 0.75);
        span {
          margin-block-end: 0;
        }
      }
    }
    .form-control {
      border: var(--form-control-border-width) solid var(--qld-soft-grey);
    }
    .formio-modified .is-invalid {
      outline: var(--qld-notify-warning) solid var(--form-control-border-width) !important;
      border-color: var(--qld-notify-warning);
      outline-offset: 0;
    }
    .callout {
      margin-block-start: var(--spacing);
      background-color: var(--callout-bg-colour);
      #feedback-serv-dep-staff {
        color: var(--formio-colour);

        h4 {
          color: var(--formio-colour);
          font-size: calc(var(--font-size) * 1.5);
          margin-block: 0;
          position: relative;
        }
        p {
          margin-block-start: var(--qld-callout-spacer);
          margin-block-end: 0;
        }
      }
    }
  }
}
// END
/////////////////////////////////////
